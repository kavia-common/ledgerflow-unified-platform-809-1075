{"is_source_file": true, "format": "JavaScript (Node.js)", "description": "This file defines a controller class CiRunsController for handling REST API endpoints related to Continuous Integration (CI) runs. It provides methods for listing, retrieving, creating, updating, and fetching the latest CI run details, interfacing with the ciRunsService.", "external_files": ["../services/ciRuns"], "external_methods": ["ciRunsService.listCiRuns", "ciRunsService.getCiRun", "ciRunsService.createCiRun", "ciRunsService.updateCiRun", "ciRunsService.getLatestCiStatus"], "published": ["new CiRunsController()"], "classes": [{"name": "CiRunsController", "description": "Controller class providing REST API endpoints for CI run operations such as listing, retrieving, creating, updating, and fetching the latest CI run status."}], "methods": [{"name": "list(req, res)", "description": "Handles request to list CI runs for a project with support for query parameters like environmentId, status, branch, limit, and offset.", "scope": "CiRunsController", "scopeKind": "class"}, {"name": "get", "description": "Retrieves a specific CI run by its ID."}, {"name": "create", "description": "Creates a new CI run record with data provided in the request body."}, {"name": "update", "description": "Updates an existing CI run, modifying fields such as status, logs URL, or completion timestamp."}, {"name": "latest", "description": "Fetches the most recent CI run for a project, optionally filtered by branch and environment."}], "calls": ["ciRunsService.listCiRuns", "ciRunsService.getCiRun", "ciRunsService.createCiRun", "ciRunsService.updateCiRun", "ciRunsService.getLatestCiStatus"], "search-terms": ["CI runs", "CiRunsController", "REST endpoints", "ciRunsService", "Node.js Controller", "CI status"], "state": 2, "file_id": 34, "knowledge_revision": 89, "git_revision": "", "ctags": [{"_type": "tag", "name": "CiRunsController", "path": "/home/kavia/workspace/code-generation/ledgerflow-unified-platform-809-1075/ledgerflow_backend_api/src/controllers/ciRuns.js", "pattern": "/^class CiRunsController {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "ciRunId", "path": "/home/kavia/workspace/code-generation/ledgerflow-unified-platform-809-1075/ledgerflow_backend_api/src/controllers/ciRuns.js", "pattern": "/^      const { workspaceId, projectId, ciRunId } = req.params;$/", "language": "JavaScript", "kind": "field", "scope": "CiRunsController", "scopeKind": "class"}, {"_type": "tag", "name": "ciRunsService", "path": "/home/kavia/workspace/code-generation/ledgerflow-unified-platform-809-1075/ledgerflow_backend_api/src/controllers/ciRuns.js", "pattern": "/^const ciRunsService = require('..\\/services\\/ciRuns');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "exports", "path": "/home/kavia/workspace/code-generation/ledgerflow-unified-platform-809-1075/ledgerflow_backend_api/src/controllers/ciRuns.js", "pattern": "/^module.exports = new CiRunsController();$/", "language": "JavaScript", "kind": "variable", "scope": "module", "scopeKind": "class"}, {"_type": "tag", "name": "list", "path": "/home/kavia/workspace/code-generation/ledgerflow-unified-platform-809-1075/ledgerflow_backend_api/src/controllers/ciRuns.js", "pattern": "/^  async list(req, res) {$/", "language": "JavaScript", "kind": "method", "signature": "(req, res)", "scope": "CiRunsController", "scopeKind": "class"}, {"_type": "tag", "name": "payload", "path": "/home/kavia/workspace/code-generation/ledgerflow-unified-platform-809-1075/ledgerflow_backend_api/src/controllers/ciRuns.js", "pattern": "/^      const payload = req.body || {};$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "projectId", "path": "/home/kavia/workspace/code-generation/ledgerflow-unified-platform-809-1075/ledgerflow_backend_api/src/controllers/ciRuns.js", "pattern": "/^      const { workspaceId, projectId, ciRunId } = req.params;$/", "language": "JavaScript", "kind": "field", "scope": "CiRunsController", "scopeKind": "class"}, {"_type": "tag", "name": "req", "path": "/home/kavia/workspace/code-generation/ledgerflow-unified-platform-809-1075/ledgerflow_backend_api/src/controllers/ciRuns.js", "pattern": "/^  async get(req, res) {$/", "language": "JavaScript", "kind": "field", "scope": "CiRunsController", "scopeKind": "class"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/ledgerflow-unified-platform-809-1075/ledgerflow_backend_api/src/controllers/ciRuns.js", "pattern": "/^  async get(req, res) {$/", "language": "JavaScript", "kind": "field", "scope": "CiRunsController", "scopeKind": "class"}, {"_type": "tag", "name": "result", "path": "/home/kavia/workspace/code-generation/ledgerflow-unified-platform-809-1075/ledgerflow_backend_api/src/controllers/ciRuns.js", "pattern": "/^      const result = await ciRunsService.createCiRun(userId, workspaceId, projectId, payload);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "result", "path": "/home/kavia/workspace/code-generation/ledgerflow-unified-platform-809-1075/ledgerflow_backend_api/src/controllers/ciRuns.js", "pattern": "/^      const result = await ciRunsService.getCiRun(userId, workspaceId, projectId, ciRunId);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "result", "path": "/home/kavia/workspace/code-generation/ledgerflow-unified-platform-809-1075/ledgerflow_backend_api/src/controllers/ciRuns.js", "pattern": "/^      const result = await ciRunsService.getLatestCiStatus(userId, workspaceId, projectId, { bra/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "result", "path": "/home/kavia/workspace/code-generation/ledgerflow-unified-platform-809-1075/ledgerflow_backend_api/src/controllers/ciRuns.js", "pattern": "/^      const result = await ciRunsService.updateCiRun(userId, workspaceId, projectId, ciRunId, pa/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "status", "path": "/home/kavia/workspace/code-generation/ledgerflow-unified-platform-809-1075/ledgerflow_backend_api/src/controllers/ciRuns.js", "pattern": "/^      const status = err.status || 500;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "userId", "path": "/home/kavia/workspace/code-generation/ledgerflow-unified-platform-809-1075/ledgerflow_backend_api/src/controllers/ciRuns.js", "pattern": "/^      const userId = req.user?.sub;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "userId", "path": "/home/kavia/workspace/code-generation/ledgerflow-unified-platform-809-1075/ledgerflow_backend_api/src/controllers/ciRuns.js", "pattern": "/^      const userId = req.user?.sub;$/", "language": "JavaScript", "kind": "field", "scope": "CiRunsController", "scopeKind": "class"}, {"_type": "tag", "name": "workspaceId", "path": "/home/kavia/workspace/code-generation/ledgerflow-unified-platform-809-1075/ledgerflow_backend_api/src/controllers/ciRuns.js", "pattern": "/^      const { workspaceId, projectId, ciRunId } = req.params;$/", "language": "JavaScript", "kind": "field", "scope": "CiRunsController", "scopeKind": "class"}], "hash": "c2fa05d6e849b86c76e4c9a3373023cb", "format-version": 4, "code-base-name": "ledgerflow_backend_api", "filename": "ledgerflow_backend_api/src/controllers/ciRuns.js", "fields": [{"name": "const { workspaceId, projectId, ciRunId } = req.params;", "scope": "CiRunsController", "scopeKind": "class", "description": "unavailable"}, {"name": "module.exports = new CiRunsController();", "scope": "module", "scopeKind": "class", "description": "unavailable"}, {"name": "async get(req, res) {", "scope": "CiRunsController", "scopeKind": "class", "description": "unavailable"}, {"name": "const userId = req.user?.sub;", "scope": "CiRunsController", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"89": ""}]}