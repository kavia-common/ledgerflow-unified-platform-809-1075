{"is_source_file": true, "format": "JavaScript", "description": "This file defines project-related service functions for a backend API, including listing, creating, retrieving, updating, and deleting projects within workspaces. It manages role-based access control and interacts with a Prisma ORM for database operations.", "external_files": ["../lib/prisma", "./workspaces"], "external_methods": ["requireWorkspaceRole"], "published": ["listProjects", "createProject", "getProject", "updateProject", "deleteProject"], "classes": [], "methods": [{"name": "listProjects(userId, workspaceId)", "description": "Lists projects in a workspace visible to the user, requires 'VIEWER' role.", "scope": "", "scopeKind": ""}, {"name": "createProject(userId, workspaceId, { name, slug, description, defaultBranch })", "description": "Creates a new project within a workspace, requires 'MAINTAINER' role and validates inputs and uniqueness.", "scope": "", "scopeKind": ""}, {"name": "getProject(userId, workspaceId, projectId)", "description": "Retrieves a specific project if the user has at least 'VIEWER' role.", "scope": "", "scopeKind": ""}, {"name": "updateProject(userId, workspaceId, projectId, { name, slug, description, defaultBranch })", "description": "Updates project fields, requires 'MAINTAINER' role, with validation for slug uniqueness.", "scope": "", "scopeKind": ""}, {"name": "deleteProject(userId, workspaceId, projectId)", "description": "Deletes a project, requires 'ADMIN' role, ensuring the project belongs to the specified workspace.", "scope": "", "scopeKind": ""}], "calls": ["requireWorkspaceRole", "prisma.project.findMany", "prisma.project.findUnique", "prisma.project.findFirst", "prisma.project.update", "prisma.project.delete"], "search-terms": ["projects", "workspaces", "project service functions", "role-based access control", "prisma ORM", "createProject", "listProjects", "getProject", "updateProject", "deleteProject"], "state": 2, "file_id": 21, "knowledge_revision": 51, "git_revision": "", "ctags": [{"_type": "tag", "name": "createProject", "path": "/home/kavia/workspace/code-generation/ledgerflow-unified-platform-809-1075/ledgerflow_backend_api/src/services/projects.js", "pattern": "/^async function createProject(userId, workspaceId, { name, slug, description, defaultBranch }) {$/", "language": "JavaScript", "kind": "function", "signature": "(userId, workspaceId, { name, slug, description, defaultBranch })"}, {"_type": "tag", "name": "deleteProject", "path": "/home/kavia/workspace/code-generation/ledgerflow-unified-platform-809-1075/ledgerflow_backend_api/src/services/projects.js", "pattern": "/^async function deleteProject(userId, workspaceId, projectId) {$/", "language": "JavaScript", "kind": "function", "signature": "(userId, workspaceId, projectId)"}, {"_type": "tag", "name": "getProject", "path": "/home/kavia/workspace/code-generation/ledgerflow-unified-platform-809-1075/ledgerflow_backend_api/src/services/projects.js", "pattern": "/^async function getProject(userId, workspaceId, projectId) {$/", "language": "JavaScript", "kind": "function", "signature": "(userId, workspaceId, projectId)"}, {"_type": "tag", "name": "listProjects", "path": "/home/kavia/workspace/code-generation/ledgerflow-unified-platform-809-1075/ledgerflow_backend_api/src/services/projects.js", "pattern": "/^  listProjects,$/", "language": "JavaScript", "kind": "field", "scope": "module.exports", "scopeKind": "class"}, {"_type": "tag", "name": "listProjects", "path": "/home/kavia/workspace/code-generation/ledgerflow-unified-platform-809-1075/ledgerflow_backend_api/src/services/projects.js", "pattern": "/^async function listProjects(userId, workspaceId) {$/", "language": "JavaScript", "kind": "function", "signature": "(userId, workspaceId)"}, {"_type": "tag", "name": "prisma", "path": "/home/kavia/workspace/code-generation/ledgerflow-unified-platform-809-1075/ledgerflow_backend_api/src/services/projects.js", "pattern": "/^const prisma = require('..\\/lib\\/prisma');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "updateProject", "path": "/home/kavia/workspace/code-generation/ledgerflow-unified-platform-809-1075/ledgerflow_backend_api/src/services/projects.js", "pattern": "/^async function updateProject(userId, workspaceId, projectId, { name, slug, description, defaultB/", "language": "JavaScript", "kind": "function", "signature": "(userId, workspaceId, projectId, { name, slug, description, defaultBranch })"}], "hash": "cb006c15f82c698febaa90139c1a4ab0", "format-version": 4, "code-base-name": "ledgerflow_backend_api", "filename": "ledgerflow_backend_api/src/services/projects.js", "fields": [{"name": "listProjects,", "scope": "module.exports", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"51": ""}]}